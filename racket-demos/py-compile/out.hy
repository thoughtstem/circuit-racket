(import tslib) (import (tslib (*))) (defn update () (global state) (do)) (defn setup () (global state) (do)) (setup) (while True (if (not (= PIN_A1.value PIN_A1_prev)) (if PIN_A1.value (do (for (n (range 100)) (play-tone 0.05 (* 2 (+ 200 n))) (print (* 2 (+ 200 n))))))) (if (not (= PIN_A6.value PIN_A6_prev)) (if PIN_A6.value (do (for (n (range 10)) (pin-write board.A7 True) (play-tone 0.1 523.25) (pin-write board.A7 False) (play-tone 0.1 261.63))))) (if (not (= PIN_A5.value PIN_A5_prev)) (if PIN_A5.value (do (play-tone 0.1 392.0) (play-tone 0.1 523.25) (pin-write board.A7 False)))) (if (not (= PIN_A4.value PIN_A4_prev)) (if PIN_A4.value (do (play-tone 0.1 392.0) (play-tone 0.1 523.25) (pin-write board.A7 True)))) (update-buttons) (ir-receive) (hardware-update) (update) (render))