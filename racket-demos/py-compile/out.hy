(import express) (import tslib) (import (tslib (*))) (setv color (if True (, 0 255 0) "green")) (defn update () (global color) (do (set-lights color))) (defn setup () (global color) (do (play-riff (, (, 261.63 0.125) (, 293.66 0.125) (, 659.25 0.125) (, 698.46 0.125) (, 783.99 0.125) (, 880.0 0.125))))) (setup) (while True (if express.cpx.button_a (do (set-lights (if True (, 0 0 255) "blue")) (send-ir 5) (set-lights (if True (, 0 255 0) "green")))) (ir-receive) (do (if (= tslib.current-ir-number 5) (do (print "GOT SIGNAL...") (setv color (if True (, 255 0 0) "red"))) False) (setv tslib.current-ir-number False)) (update))